{"NUC4-730":{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"200497","self":"http:\/\/jira.alm.mentorg.com:8080\/rest\/api\/latest\/issue\/200497","key":"NUC4-730","fields":{"summary":"Debug Agent: Phase 1: Stop Mode Agent","issuetype":{"self":"http:\/\/jira.alm.mentorg.com:8080\/rest\/api\/2\/issuetype\/6","id":"6","description":"Created by JIRA Software - do not edit or delete. Issue type for a big user story that needs to be broken down.","iconUrl":"http:\/\/jira.alm.mentorg.com:8080\/secure\/viewavatar?size=xsmall&avatarId=14447&avatarType=issuetype","name":"Epic","subtask":false,"avatarId":14447},"description":"*Overview*\r\n Agent debugging and workflows associated with it are needed for all non-MCU environments (ie Cortex-A \/ Cortex-R, etc). This facilitates more complex debugging scenarios compared to using JTAG (SMP, virtualization environments, multi-core \/ multi-OS, etc).\r\n\r\nThis was also mark a change in the development flow of Nucleus. JTAG would be used until the platform was stable - for board bring-up, Nucleus bring-up and some corner cases. All other debug done through NDA. Note: some customers will always have to use JTAG for a number of reasons - security, no ethernet\/USB ports,\u00a0 preference, debugging production builds that don't have NDA compiled in.\r\n----\r\n*Origin*\r\n Both customers and the field have asked for such support for quite a few years. Additionally, more complex debugging configurations make JTAG debugging very difficult to adapt to all scenarios. Finally, many of the Nucleus competitors have had such support for quite a while (VxWorks, Integrity, QNX, etc).\r\n----\r\n*Requirements*\r\n||Ref||Description||Type||\r\n|R.1|Must have a boot-loader capable of automatically retrieving a new image to debug from host machine via networking (TFTP or similar) or UART connection (Kermit or similar).\u00a0 Boot-loader must then load and start debug image at appropriate addresses.|Functional|\r\n|R.2|Boot-loader must support loading and running of debug images using FIT format.|Functional|\r\n|R.3|Boot-loader must support loading and running of debug images using raw binary format.\u00a0 This also requires that boot-loader has support for environment variables necessary to specify debug image load address and entry address.|Functional|\r\n|R.4|Boot-loader must support optional retrieving and loading of a RAM disk image and mechanics for specifying the RAM disk load address as a parameter to the debug image.|Functional|\r\n|R.5|Debug agent must support the following connection types \/ transports: TCP\/IP (Ethernet or USB) and UART|Functional|\r\n|R.6|Debug agent must support debugging of kernel, drivers, statically linked application code, and processes|Functional|\r\n|R.7|Debug agent must support SMP debugging for all operations|Functional|\r\n|R.8|Debug agent must support the following architectures: ARMv5, ARMv6, ARMv7-A, ARMv7-R, ARMv8|Functional|\r\n|R.9|Debug agent must support the following Nucleus version(s):\u00a0 Nucleus 4.x and forward|Functional|\r\n|R.10|Debug agent must support all standard RSP debugging commands, to include: setting \/ removing breakpoints, step over (instruction and source),\u00a0 step in (instruction and source), read \/ write memory and read \/ write registers.|Functional|\r\n|R.11|When using UART for debug agent on platform with single UART, no special configuration must be necessary to use the UART for agent debugging (versus using UART for stdio) - this requires that stdin\/stdout\/stderr get directed to GDB file or console I\/O.|Functional|\r\n|R.12|Debug agent should support ability to extend register set provided to GDB to include special \/ system registers, etc, to allow better embedded software debugging support|Functional|\r\n|R.13|Enabling Debug agent support will be a build-time decision and require a single transport \/ connection type to be selected\u00a0 when enabling the debug agent.|Functional|\r\n|R.14|The Debug agent must be configurable for run-level 0 to allow manual start of the built-in debug agent within a running system.\u00a0 Default will be an acceptable run-level which automatically starts the built-in debug agent during run-level initialization.|Functional|\r\n|R.15|To facilitate early driver debugging (initialization), drivers being debugged must be configurable for run-level 0 to allow manual start of the built-in driver within a running system.|Functional|\r\n|R.16|A shell command to view all run-level components and their status (started, stopped, etc) must be available.\u00a0 Each run-level component must have a unique integer ID associated with it that is displayed by this shell command.|Functional|\r\n|R.17|A shell command to start a stopped run-level component using its unique ID must be available.|Functional|\r\n|R.18|A shell command to stop a started run-level component using its unique ID must be available.|Functional|\r\n|R.19|To facilitate early statically linked application debugging (ie Application_Initialize), the application must be configurable for run-level 0 to allow manual start of the statically linked application code within a running system.|Functional|\r\n|R.20|When using process model, debug agent must support established process model debugging workflows and have awareness of association of processes and threads.|Functional|\r\n----\r\n*Assumptions*\r\n||Ref||Description||\r\n|A.1|All non-MCU platforms supported will have, at a minimum, a UART or a networking interface available (USB or Ethernet).|\r\n|A.2|Either u-boot or the Nucleus boot-loader will become a \"standardized\" boot-loader and extended to meet the boot-loader requirements above.|\r\n|A.3|Ability to support dynamically switching between polled and interrupt driven transmit and receive operations will be necessary for all transports supported.\u00a0 Actually, only dynamic switching of receive operations is necessary - polled transmit operations can stay polled at all times if this somehow simplifies initial implementation options.|\r\n|A.4|Hardware assisted operations can be utilized to support any debug agent requirements - this includes hardware break-point support, hardware assisted stepping support, etc.|\r\n|A.5|SMP debugging with agent will likely not provide hardware level cross-triggering support, so skidding of CPUs \/ threads on different cores when a break-point is hit or target is stopped will be considered acceptable behavior.|\r\n|A.6|On selected architectures \/ platforms, all images being debugged will run entirely from RAM (ie no XiP from Flash or similar).|\r\n|A.7|Necessary host support will be needed to support agent debug workflows and selected boot-loader.\u00a0 This can include add a TFTP server or Kermit support to CodeBench (or other selected protocols to support R.1).|\r\n----\r\n*Deliverables*\r\n||Ref||Description||Acceptance Criteria||\r\n|D.1|TBD|TBD|\r\n\r\n\u00a0","issuelinks":[{"id":"183555","self":"http:\/\/jira.alm.mentorg.com:8080\/rest\/api\/2\/issueLink\/183555","type":{"id":"10130","name":"Implements","inward":"implements","outward":"implemented by","self":"http:\/\/jira.alm.mentorg.com:8080\/rest\/api\/2\/issueLinkType\/10130"},"inwardIssue":{"id":"214804","key":"NUMR-752","self":"http:\/\/jira.alm.mentorg.com:8080\/rest\/api\/2\/issue\/214804","fields":{"summary":"Debug Agent: Phase 1: Stop Mode Agent","status":{"self":"http:\/\/jira.alm.mentorg.com:8080\/rest\/api\/2\/status\/10005","description":"Committed to product roadmap.","iconUrl":"http:\/\/jira.alm.mentorg.com:8080\/images\/icons\/statuses\/generic.png","name":"Committed","id":"10005","statusCategory":{"self":"http:\/\/jira.alm.mentorg.com:8080\/rest\/api\/2\/statuscategory\/4","id":4,"key":"indeterminate","colorName":"yellow","name":"In Progress"}},"priority":{"self":"http:\/\/jira.alm.mentorg.com:8080\/rest\/api\/2\/priority\/2","iconUrl":"http:\/\/jira.alm.mentorg.com:8080\/images\/icons\/priorities\/critical.svg","name":"Critical","id":"2"},"issuetype":{"self":"http:\/\/jira.alm.mentorg.com:8080\/rest\/api\/2\/issuetype\/28","id":"28","description":"","iconUrl":"http:\/\/jira.alm.mentorg.com:8080\/secure\/viewavatar?size=xsmall&avatarId=14440&avatarType=issuetype","name":"ESD Requirement","subtask":false,"avatarId":14440}}}}],"customfield_10022":null,"assignee":{"self":"http:\/\/jira.alm.mentorg.com:8080\/rest\/api\/2\/user?username=dand","name":"dand","key":"dand","emailAddress":"dan_driscoll@mentor.com","avatarUrls":{"48x48":"http:\/\/jira.alm.mentorg.com:8080\/secure\/useravatar?avatarId=10262","24x24":"http:\/\/jira.alm.mentorg.com:8080\/secure\/useravatar?size=small&avatarId=10262","16x16":"http:\/\/jira.alm.mentorg.com:8080\/secure\/useravatar?size=xsmall&avatarId=10262","32x32":"http:\/\/jira.alm.mentorg.com:8080\/secure\/useravatar?size=medium&avatarId=10262"},"displayName":"Driscoll, Dan","active":true,"timeZone":"America\/Chicago"},"priority":{"self":"http:\/\/jira.alm.mentorg.com:8080\/rest\/api\/2\/priority\/2","iconUrl":"http:\/\/jira.alm.mentorg.com:8080\/images\/icons\/priorities\/critical.svg","name":"Critical","id":"2"},"status":{"self":"http:\/\/jira.alm.mentorg.com:8080\/rest\/api\/2\/status\/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"http:\/\/jira.alm.mentorg.com:8080\/images\/icons\/statuses\/open.png","name":"Open","id":"1","statusCategory":{"self":"http:\/\/jira.alm.mentorg.com:8080\/rest\/api\/2\/statuscategory\/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}}}},"CBMR-708":{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"197529","self":"http:\/\/jira.alm.mentorg.com:8080\/rest\/api\/latest\/issue\/197529","key":"CBMR-708","fields":{"summary":"IDE Integration of Debug Agent: Phase 1: Stop Mode Agent","issuetype":{"self":"http:\/\/jira.alm.mentorg.com:8080\/rest\/api\/2\/issuetype\/28","id":"28","description":"","iconUrl":"http:\/\/jira.alm.mentorg.com:8080\/secure\/viewavatar?size=xsmall&avatarId=14440&avatarType=issuetype","name":"ESD Requirement","subtask":false,"avatarId":14440},"description":"\u00a0\r\n\r\n*Make the phase 1 debug agent work like the old debug agent with the following exceptions:*\r\n * Update Nucleus NDA plugin to drop u-boot support\r\n * Debug via ethernet and serial connections only\r\n * Debug via USB if time permits","issuelinks":[{"id":"197925","self":"http:\/\/jira.alm.mentorg.com:8080\/rest\/api\/2\/issueLink\/197925","type":{"id":"10130","name":"Implements","inward":"implements","outward":"implemented by","self":"http:\/\/jira.alm.mentorg.com:8080\/rest\/api\/2\/issueLinkType\/10130"},"outwardIssue":{"id":"223192","key":"CB-9909","self":"http:\/\/jira.alm.mentorg.com:8080\/rest\/api\/2\/issue\/223192","fields":{"summary":"QA: IDE Integration of Debug Agent: Phase 1: Stop Mode Agent","status":{"self":"http:\/\/jira.alm.mentorg.com:8080\/rest\/api\/2\/status\/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"http:\/\/jira.alm.mentorg.com:8080\/images\/icons\/statuses\/open.png","name":"Open","id":"1","statusCategory":{"self":"http:\/\/jira.alm.mentorg.com:8080\/rest\/api\/2\/statuscategory\/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"priority":{"self":"http:\/\/jira.alm.mentorg.com:8080\/rest\/api\/2\/priority\/3","iconUrl":"http:\/\/jira.alm.mentorg.com:8080\/images\/icons\/priorities\/major.svg","name":"Major","id":"3"},"issuetype":{"self":"http:\/\/jira.alm.mentorg.com:8080\/rest\/api\/2\/issuetype\/6","id":"6","description":"Created by JIRA Software - do not edit or delete. Issue type for a big user story that needs to be broken down.","iconUrl":"http:\/\/jira.alm.mentorg.com:8080\/secure\/viewavatar?size=xsmall&avatarId=14447&avatarType=issuetype","name":"Epic","subtask":false,"avatarId":14447}}}},{"id":"186958","self":"http:\/\/jira.alm.mentorg.com:8080\/rest\/api\/2\/issueLink\/186958","type":{"id":"10130","name":"Implements","inward":"implements","outward":"implemented by","self":"http:\/\/jira.alm.mentorg.com:8080\/rest\/api\/2\/issueLinkType\/10130"},"outwardIssue":{"id":"218192","key":"CB-9698","self":"http:\/\/jira.alm.mentorg.com:8080\/rest\/api\/2\/issue\/218192","fields":{"summary":"IDE Integration of Debug Agent: Phase 1: Stop Mode Agent","status":{"self":"http:\/\/jira.alm.mentorg.com:8080\/rest\/api\/2\/status\/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"http:\/\/jira.alm.mentorg.com:8080\/images\/icons\/statuses\/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"http:\/\/jira.alm.mentorg.com:8080\/rest\/api\/2\/statuscategory\/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"http:\/\/jira.alm.mentorg.com:8080\/rest\/api\/2\/priority\/3","iconUrl":"http:\/\/jira.alm.mentorg.com:8080\/images\/icons\/priorities\/major.svg","name":"Major","id":"3"},"issuetype":{"self":"http:\/\/jira.alm.mentorg.com:8080\/rest\/api\/2\/issuetype\/6","id":"6","description":"Created by JIRA Software - do not edit or delete. Issue type for a big user story that needs to be broken down.","iconUrl":"http:\/\/jira.alm.mentorg.com:8080\/secure\/viewavatar?size=xsmall&avatarId=14447&avatarType=issuetype","name":"Epic","subtask":false,"avatarId":14447}}}},{"id":"183707","self":"http:\/\/jira.alm.mentorg.com:8080\/rest\/api\/2\/issueLink\/183707","type":{"id":"10130","name":"Implements","inward":"implements","outward":"implemented by","self":"http:\/\/jira.alm.mentorg.com:8080\/rest\/api\/2\/issueLinkType\/10130"},"inwardIssue":{"id":"149619","key":"NUC4-731","self":"http:\/\/jira.alm.mentorg.com:8080\/rest\/api\/2\/issue\/149619","fields":{"summary":"Start \/ Stop all cores Armv7 implementation","status":{"self":"http:\/\/jira.alm.mentorg.com:8080\/rest\/api\/2\/status\/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"http:\/\/jira.alm.mentorg.com:8080\/images\/icons\/statuses\/closed.png","name":"Closed","id":"6","statusCategory":{"self":"http:\/\/jira.alm.mentorg.com:8080\/rest\/api\/2\/statuscategory\/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"http:\/\/jira.alm.mentorg.com:8080\/rest\/api\/2\/priority\/3","iconUrl":"http:\/\/jira.alm.mentorg.com:8080\/images\/icons\/priorities\/major.svg","name":"Major","id":"3"},"issuetype":{"self":"http:\/\/jira.alm.mentorg.com:8080\/rest\/api\/2\/issuetype\/7","id":"7","description":"Created by JIRA Software - do not edit or delete. Issue type for a user story.","iconUrl":"http:\/\/jira.alm.mentorg.com:8080\/secure\/viewavatar?size=xsmall&avatarId=14455&avatarType=issuetype","name":"Story","subtask":false,"avatarId":14455}}}},{"id":"183708","self":"http:\/\/jira.alm.mentorg.com:8080\/rest\/api\/2\/issueLink\/183708","type":{"id":"10130","name":"Implements","inward":"implements","outward":"implemented by","self":"http:\/\/jira.alm.mentorg.com:8080\/rest\/api\/2\/issueLinkType\/10130"},"inwardIssue":{"id":"214804","key":"NUMR-752","self":"http:\/\/jira.alm.mentorg.com:8080\/rest\/api\/2\/issue\/214804","fields":{"summary":"Debug Agent: Phase 1: Stop Mode Agent","status":{"self":"http:\/\/jira.alm.mentorg.com:8080\/rest\/api\/2\/status\/10005","description":"Committed to product roadmap.","iconUrl":"http:\/\/jira.alm.mentorg.com:8080\/images\/icons\/statuses\/generic.png","name":"Committed","id":"10005","statusCategory":{"self":"http:\/\/jira.alm.mentorg.com:8080\/rest\/api\/2\/statuscategory\/4","id":4,"key":"indeterminate","colorName":"yellow","name":"In Progress"}},"priority":{"self":"http:\/\/jira.alm.mentorg.com:8080\/rest\/api\/2\/priority\/2","iconUrl":"http:\/\/jira.alm.mentorg.com:8080\/images\/icons\/priorities\/critical.svg","name":"Critical","id":"2"},"issuetype":{"self":"http:\/\/jira.alm.mentorg.com:8080\/rest\/api\/2\/issuetype\/28","id":"28","description":"","iconUrl":"http:\/\/jira.alm.mentorg.com:8080\/secure\/viewavatar?size=xsmall&avatarId=14440&avatarType=issuetype","name":"ESD Requirement","subtask":false,"avatarId":14440}}}}],"assignee":{"self":"http:\/\/jira.alm.mentorg.com:8080\/rest\/api\/2\/user?username=mhussein","name":"mhussein","key":"mhussein","emailAddress":"mohamed_hussein@mentor.com","avatarUrls":{"48x48":"http:\/\/jira.alm.mentorg.com:8080\/secure\/useravatar?ownerId=mhussein&avatarId=11740","24x24":"http:\/\/jira.alm.mentorg.com:8080\/secure\/useravatar?size=small&ownerId=mhussein&avatarId=11740","16x16":"http:\/\/jira.alm.mentorg.com:8080\/secure\/useravatar?size=xsmall&ownerId=mhussein&avatarId=11740","32x32":"http:\/\/jira.alm.mentorg.com:8080\/secure\/useravatar?size=medium&ownerId=mhussein&avatarId=11740"},"displayName":"Hussein, Mohamed","active":true,"timeZone":"America\/Chicago"},"priority":{"self":"http:\/\/jira.alm.mentorg.com:8080\/rest\/api\/2\/priority\/3","iconUrl":"http:\/\/jira.alm.mentorg.com:8080\/images\/icons\/priorities\/major.svg","name":"Major","id":"3"},"status":{"self":"http:\/\/jira.alm.mentorg.com:8080\/rest\/api\/2\/status\/10025","description":"Implemented","iconUrl":"http:\/\/jira.alm.mentorg.com:8080\/images\/icons\/statuses\/generic.png","name":"Implemented","id":"10025","statusCategory":{"self":"http:\/\/jira.alm.mentorg.com:8080\/rest\/api\/2\/statuscategory\/3","id":3,"key":"done","colorName":"green","name":"Done"}}}}}